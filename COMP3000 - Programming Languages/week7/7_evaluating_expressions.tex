\documentclass[twoside=false, DIV=14]{scrartcl}

\input{../latex_setup.tex}
\title{\color{redish} \vspace{-1em}COMP3000 Week 7: Evaluating Expressions}

\begin{document}
{\color{blackish}\maketitle}\vspace{-7em}

\begin{abstract}
\end{abstract}

\section*{Topics}
\begin{enumerate}
\item
\item
\item
\end{enumerate}

\section*{Preparation}
\begin{itemize}
\item Read the text chapters X
\item Watch lectures, X
\item Complete the RAT individually and bring your answers to class.
\end{itemize}

\section*{Definitions to help while preparing}
\begin{description}
\item[a]: aa
\end{description}

\newpage
\part*{RAT X \hspace{6em} {\small ANSWER ON iLearn}}
%\renewcommand{\labelenumii}{\alph{enumii}) $\fbox{$\phantom{x}$}$}
\renewcommand{\labelenumii}{\alph{enumii}) $\square$}
\begin{enumerate}
\item \textbf{question}
\begin{enumerate}
  \item answer \tick
  \item distractor
  \item distractor
  \item distractor
  \item distractor
\end{enumerate}

\end{enumerate}

\newpage
\part*{Application Exercise}
This week we will be computing the final water flow from a set of example water flows which are written in an expression language.  The language updates a little from the one we used last week.  This week we add the concept of time to our machine.  In normal programming, every expression evaluates to one thing, no matter when you run it.  In our domain, waterflow should change over time right?  It all comes down to what a "thing" is!  This is the concept of \emph{value}.  In the expression language from the text, a value is a number.  For us, a value is \emph{list of numbers, giving the water flow on each future day (five days max)}.  Let us extend our little language to support this.

\begin{lstlisting}
  flow      -> [(flow ",")*] + additional  
            | headwater 
            | flow @ rate
            | "(" flow ")";
  headwater  -> five_day_flow;
  rate       -> NUMBER;
  additional -> five_day_flow;
  five_day_flow -> "{" NUMBER "," NUMBER "," NUMBER "," NUBMER "," NUMBER "}"
\end{lstlisting}
Don't go back and rewrite your parser or touch your code at all.  This week your job is to \emph{explore} the possible final values that can be computed from terms of this grammar.  I will give you some example terms, you can add more of your own.  You can interpret for yourself what the final answer to a certain expression should be however you should be applying a process like the text does for evaluating expressions in Lox.  I suggest you break down the task like this for each example:
\begin{itemize}
\item Draw the abstract syntax tree for the example
\item Brainstorm what each operator should do
\item Do the evaluation one step at a time on the tree
\end{itemize}
The end results should be a final value \emph{and} the annotated tree showing how you worked it out.

Here are some example terms to compute:
\begin{itemize}
\item \lstinline|[{1,4,2,1,1,1},{2,3,2,2,1,0} @ 0.5] + {1,4,2,1,1,1}|
\end{itemize}


\newpage
\part*{Application Exercise Notes and Solutions}

\newpage
\part*{Self Study Exercises}
\section*{exercise}
flobadob

\subsection*{Solution}
dibdob


\end{document}